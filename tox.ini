[flake8]
ignore = E265,E501
max-line-length = 100
max-complexity = 10
exclude = **/migrations/*
inline-quotes = double

[isort]
multi_line_output=3
known_django=django
known_third_party=appconf,test_plus,factory
sections=FUTURE,STDLIB,DJANGO,THIRDPARTY,FIRSTPARTY,LOCALFOLDER
include_trailing_comma=True
skip_glob=**/migrations/*

[coverage:run]
source = formly
omit = **/conf.py
       **/tests/*
       **/migrations/*
branch = true
data_file = .coverage

[coverage:report]
omit = **/conf.py
       **/tests/*
       **/migrations/*
exclude_lines =
    coverage: omit
show_missing = True

[tox]
envlist =
    checkqa,
    py36-dj{22,31}

[testenv]
passenv = CI CIRCLECI CIRCLE_*
deps =
    coverage
    codecov
    dj22: Django<2.3
    dj31: Django<3.2
    master: https://github.com/django/django/tarball/master

usedevelop = True
commands =
    python makemigrations.py --check --dry-run
    coverage run --rcfile=tox.ini setup.py test
    coverage report --rcfile=tox.ini -m --skip-covered

[testenv:checkqa]
commands =
    flake8 formly
    isort --recursive --check-only --diff formly -sp tox.ini
deps =
    flake8 == 3.5.0
    flake8-quotes == 0.13.0
    isort == 4.3.4
